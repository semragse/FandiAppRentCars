<!DOCTYPE html>
<!-- commit marker: fonctionnalite simple -->
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Paiement réservation</title>
  <style>
    body {font-family: Arial, sans-serif; margin:0; background:linear-gradient(135deg,#f5f7fa 0%,#c3cfe2 100%); min-height:100vh; display:flex; align-items:center; justify-content:center;}
    .container {background:#fff; width:95%; max-width:620px; padding:2rem 2.2rem; border-radius:22px; box-shadow:0 25px 60px rgba(0,0,0,0.15);}
    h1 {margin:0 0 1rem; font-size:1.8rem; background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); -webkit-background-clip:text; color:transparent;}
    .summary {background:#f8f9fa; border:2px solid #e9ecef; border-radius:14px; padding:1rem 1.1rem; margin-bottom:1.3rem;}
    .summary-row {display:flex; justify-content:space-between; font-size:.9rem; padding:.35rem 0; border-bottom:1px dashed #dee2e6;}
    .summary-row:last-child {border-bottom:none;}
    .actions {display:flex; gap:1rem; margin-top:1.2rem;}
    button {flex:1; padding:.85rem 1.1rem; border:none; border-radius:12px; font-weight:600; font-size:.95rem; cursor:pointer;}
    .btn-back {background:#6c757d; color:#fff;}
    .btn-pay {background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); color:#fff;}
    .placeholder {text-align:center; font-size:.8rem; color:#666; margin-top:1.4rem;}
  </style>
</head>
<body>
  <div class="container">
    <h1>Paiement</h1>
    <div id="reservationInfo" class="summary"></div>
    <div class="actions">
      <button class="btn-back" id="backBtn">Retour</button>
      <button class="btn-pay" id="payBtn">Payer (demo)</button>
    </div>
    <div class="placeholder">Intégration de passerelle de paiement à venir (Stripe / PayPal / CMI Maroc...).</div>
  </div>
<script>
  function formatDate(dateStr){ try { return new Date(dateStr).toLocaleDateString('fr-FR'); } catch { return dateStr; } }
  const params = new URLSearchParams(window.location.search);
  const carId = params.get('carId');
  const start = params.get('start');
  const end = params.get('end');
  const days = params.get('days');
  const total = params.get('total');
  const infoDiv = document.getElementById('reservationInfo');
  if (carId && start && end && days && total) {
    infoDiv.innerHTML = `
      <div class='summary-row'><span>ID Véhicule</span><strong>${carId}</strong></div>
      <div class='summary-row'><span>Date début</span><strong>${formatDate(start)}</strong></div>
      <div class='summary-row'><span>Date fin</span><strong>${formatDate(end)}</strong></div>
      <div class='summary-row'><span>Durée</span><strong>${days} jour(s)</strong></div>
      <div class='summary-row'><span>Total estimé</span><strong style='color:#28a745;'>${total}€</strong></div>
    `;
  } else {
    infoDiv.innerHTML = '<em>Données de réservation manquantes.</em>';
  }
  document.getElementById('backBtn').addEventListener('click', ()=>{ window.history.back(); });
  document.getElementById('payBtn').addEventListener('click', ()=>{
    alert('Demo paiement: cette étape sera implémentée plus tard.');
  });
</script>
</body>
</html>